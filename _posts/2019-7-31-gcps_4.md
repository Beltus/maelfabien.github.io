---
published: true
title: Recommandation Systems in GCP - Week 1 Module 2
collection: bgd
layout: single
author_profile: false
read_time: true
categories: [bigdata]
excerpt : "Road to Google Cloud Platform Certification"
header :
    overlay_image: "https://maelfabien.github.io/assets/images/wolf.jpg"
    teaser: "https://maelfabien.github.io/assets/images/wolf.jpg"
comments : true
toc: true
toc_sticky: true
sidebar:
    nav: sidebar-sample
---

In this section, we will review product recommendations using Cloud SQL and Apache Spark. 

# Recommendation Systems

## Business applications

E-commerce is probably the most common recommendation systems that we encounter. Models learn what we may like based on our preferences. We can give implicit or explicit feedbacks to the model (click, rating...).

Recommendations systems are used for :
- Google search results
- Facebook feed
- Netflix recommendation
- Smart Reply in Gmail
- Photo grouping in Google Photo
- Restaurant recommendation system in Google Maps
- ...

Recommendation systems must scale to meet demand. 

## Machine learning

Suppose that we will try to build a recommender system for housing rental. 

![image](https://maelfabien.github.io/assets/images/gcp_48.png)

Suppose that we have ratings provided manually by users as training data. These ratings could come from explicit ratings. Maybe we showed the user the house in the past and they've clicked four stars after seeing the house details, or the ratings have come from implicit ratings. Maybe they've spent a lot of time looking at the website corresponding to this property. 

We then train a ML moedl to predict the user's rating of every single house in the catalog, and return the 5 houses with the highest grades. We have 2 kinds of training data :
- the previous ratings of the specific user
- the ratings other people gave to each house

One of the main issues is sparsity. Some houses might have a lot of reviews, other not. Some users might have a lot of users with similar profiles, others not. We need to cluster users and items at first.

Then, build the predicted rating as : `user-preference * item-quality`.

How often and where will we compute the predicted ratings ?
- Stream : Continuously train the models
- Batch : Train the model once a day or once a week. This is the selected approach.

We should consider making the computations in a Hadoop Cluster to compute the rating every user would give to every house. Finally, we can store the predictions in Cloud SQL in a transactional way, or in any relational database management system.

![image](https://maelfabien.github.io/assets/images/gcp_49.png)

## Moving to GCP

Existing on-premise models might require a migration to GCP.

![image](https://maelfabien.github.io/assets/images/gcp_50.png)

There are several storage solutions offered on GCP :

![image](https://maelfabien.github.io/assets/images/gcp_51.png)

The storage solution to use is an important question :
- use Cloud Storage as a global file system
- use CloudSQL as a RDBMS for transactional data up to a few Gb
- use Datastore as a transactional NoSQL database system
- use Bigtable for low-latency NoSQL data such as sensor data
- use BigQuery as a SQL Data Warehouse to power analytics

![image](https://maelfabien.github.io/assets/images/gcp_52.png)

We therefore use CloudSQL in our example. Cloud SQL has a lot of advantage :

![image](https://maelfabien.github.io/assets/images/gcp_53.png)

## Utilizing and tuning on-premise clusters

..

> **Conclusion **: This is the end of the Introduction To Google Cloud Platform module, part of the week 1 of the GCP Specialization.
